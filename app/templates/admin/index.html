{% from 'common/macro.html' import pagination_show %}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta charset="utf-8" />
    <title>商城管理系统</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="{{url_for('static',filename='public/media/css/bootstrap.min.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='css/goods_show.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/bootstrap-responsive.min.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/font-awesome.min.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/style-metro.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/style.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/style-responsive.css')}}" rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/default.css')}}" rel="stylesheet" type="text/css" id="style_color" />
    <link href="{{url_for('static',filename='public/media/css/uniform.default.css')}}" rel="stylesheet" type="text/css" />
    <!-- mask alert -->
    <link href="{{url_for('static',filename='public/media/css/jquery-ui-1.10.1.custom.min.css')}}"rel="stylesheet" type="text/css" />
    <link href="{{url_for('static',filename='public/media/css/bootstrap-modal.css')}}" rel="stylesheet" type="text/css" />
    <!-- mask alert -->
    <!-- END GLOBAL MANDATORY STYLES -->
    <link rel="shortcut icon" href="{{url_for('static',filename='public/media/image/favicon.png')}}" />
    <!-- END COPYRIGHT -->
    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
    <!-- BEGIN CORE PLUGINS -->
    <script src="{{url_for('static',filename='public/media/js/jquery-1.10.1.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery-migrate-1.2.1.min.js')}}" type="text/javascript"></script>
    <!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
    <script src="{{url_for('static',filename='public/media/js/jquery-ui-1.10.1.custom.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/bootstrap.min.js')}}" type="text/javascript"></script>
    <!--[if lt IE 9]>

    <script src="public/media/js/excanvas.min.js"></script>

    <script src="public/media/js/respond.min.js"></script>  

    <![endif]-->
    <script src="{{url_for('static',filename='public/media/js/jquery.slimscroll.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery.blockui.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery.cookie.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery.uniform.min.js')}}" type="text/javascript"></script>
    <!-- END CORE PLUGINS -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <script src="{{url_for('static',filename='public/media/js/jquery.validate.min.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery.backstretch.min.js')}}" type="text/javascript"></script>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN PAGE LEVEL SCRIPTS -->
    <script src="{{url_for('static',filename='public/media/js/app.js')}}"type="text/javascript"></script>
    <!-- END PAGE LEVEL SCRIPTS -->
    <script src="{{url_for('static',filename='public/media/js/bootstrap-modal.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/bootstrap-modalmanager.js')}}" type="text/javascript"></script>
    <script src="{{url_for('static',filename='public/media/js/ui-modals.js')}}"></script>
</head>
<!-- END HEAD -->
<!-- BEGIN PAGE LEVEL STYLES -->
<!-- color引用 -->
<link rel="stylesheet" href="{{url_for('static',filename='public/media/css/colpick.css')}}" type="text/css" />
<link rel="stylesheet" href="{{url_for('static',filename='public/static/css/website.css')}}" type="text/css" />
<link rel="stylesheet" href="{{url_for('static',filename='public/swiper/dist/css/swiper.min.css')}}" type="text/css" />
<!-- END PAGE LEVEL STYLES -->
<!-- BEGIN BODY -->
<style>
.setbg input[type="text"],
.setcol .yu_bgcol {
    background-color: initial!important;
}
</style>

<body class="page-header-fixed" >
    <!-- BEGIN HEADER -->
    <div class="header navbar navbar-inverse navbar-fixed-top">
        <!-- BEGIN TOP NAVIGATION BAR -->
        <div class="navbar-inner">
            <div class="container-fluid">
                <!-- BEGIN LOGO -->
                <a class="brand" href="{{ url_for('home.index') }}">
                    <span style="margin-left: 20px">GangPlus</span>
                </a>
                <!-- END LOGO -->
                <!-- BEGIN RESPONSIVE MENU TOGGLER -->
                <a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">
                    <img src="/static/public/media/image/menu-toggler.png" alt="" />
                </a>
                <!-- END RESPONSIVE MENU TOGGLER -->
                <!-- BEGIN TOP NAVIGATION MENU -->
                <ul class="nav pull-right">
                    <li class="dropdown user" style="margin-top: 12px;color: white;font-size: 18px">欢迎 {{ username }}</li>
                    <!-- BEGIN NOTIFICATION DROPDOWN -->

                    <!-- END NOTIFICATION DROPDOWN -->
                    <!-- BEGIN USER LOGIN DROPDOWN -->
                    <li class="dropdown user">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <img alt="" src="/static/public/media/image/avatar1_small.jpg" />
                            <span class="username"></span>
                            <i class="icon-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href=""><i class="icon-lock"></i> 修改密码</a></li>
                            <li><a href="{{ url_for('admin.logout') }}"><i class="icon-key"></i> 退出</a></li>
                        </ul>
                    </li>
                    <!-- END USER LOGIN DROPDOWN -->
                </ul>
                <!-- END TOP NAVIGATION MENU -->
            </div>
        </div>
        <!-- END TOP NAVIGATION BAR -->
    </div>
    <!-- End HEADER -->
    <!-- BEGIN CONTAINER -->
    <div class="page-container row-fluid">
        <!-- BEGIN SIDEBAR -->
        <div class="page-sidebar nav-collapse collapse">
            <!-- Begin SIDEBAR MENU -->
            <!-- BEGIN SIDEBAR MENU -->
            <ul class="page-sidebar-menu">
                <li>
                    <!-- BEGIN SIDEBAR TOGGLER BUTTON -->
                    <div class="sidebar-toggler hidden-phone"></div>
                    <!-- BEGIN SIDEBAR TOGGLER BUTTON -->
                </li>
                <li class="start">
                    <a href="">
                        <i class=" icon-reorder"></i>
                        <span class="title">菜单</span>
                    </a>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="icon-comments"></i>
                        <span class="title">用户管理</span>
                        <span class="arrow "></span>
                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a href="{{ url_for('admin.main',md="Admin") }}">管理员</a>
                            <a href="#">VIP用户</a>
                            <a href="{{ url_for('admin.main',md='User') }}">用户</a>
                        </li>
                    </ul>
                </li>

                <li>
                    <a href="javascript:;">
                        <i class="icon-bullhorn"></i>
                        <span class="title">商品管理</span>
                        <span class="arrow "></span>
                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a href="{{ url_for('admin.main',md='Goods') }}">全部商品</a>
                            <a href="{{ url_for('admin.main',md='Goods') }}">上单商品</a>
                            <a href="{{ url_for('admin.main',md='Goods') }}">下架商品</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:;">
                        <i class="icon-picture"></i>
                        <span class="title">订单管理</span>
                        <span class="arrow "></span>
                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a href="{{ url_for('admin.main',md='Order') }}">待付款</a>
                            <a href="{{ url_for('admin.main',md='Order') }}">待发货</a>
                            <a href="{{ url_for('admin.main',md='Order') }}">已发货</a>
                            <a href="{{ url_for('admin.main',md='Order') }}">已签收</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <!-- END SIDEBAR MENU -->
        </div>
        <!-- END SIDEBAR -->
        <!-- BEGIN PAGE -->
        <div class="page-content" style="min-height: 560px;">
            <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
            <div id="portlet-config" class="modal hide">
                <div class="modal-header">
                    <button data-dismiss="modal" class="close" type="button"></button>
                    <h3>Widget Settings</h3>
                </div>
                <div class="modal-body">
                    <p>Here will be a configuration form</p>
                </div>
            </div>
            <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->
            {#      主体内容开始      #}
            {% if md == "Goods" %}
             <div class="container-fluid" style="height: 550px;overflow:hidden;">
            <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px;            ">商品id</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">商品名称</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">分类</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">描述</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">价格</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 100px;line-height: 50px;text-align: center;font-size: 14px;">图片</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 100px;line-height: 50px;text-align: center;font-size: 14px;">添加时间</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 80px;line-height: 50px;text-align: center;font-size: 14px;">操作</span>
            <hr style="height: 1px;margin: 0">

               {% for foo in data %}
                   <div class="wbb_ul">
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.id}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.goodsname}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.sort}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.goods_dec}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">{{ foo.goods_price }}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 100px;line-height: 50px;text-align: center;font-size: 14px;"><img style="width: 50px;" src="{{foo.goods_pics}}"></span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 100px;line-height: 50px;text-align: center;font-size: 14px;">{{ foo.addtime }}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 40px;line-height: 50px;text-align: center;font-size: 14px ;color: red">删除</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 40px;line-height: 50px;text-align: center;font-size: 14px ;color: #0b2e13">添加</span>
                  <hr style="height: 1px;margin: 0">
                   </div>
               {% endfor %}

            {{ pagination_show(pagination,'admin.main',md='Goods') }}
            </div>
                {% elif md == "Admin" %}
             <div class="container-fluid" style="height: 550px;overflow:hidden;">
                        <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px;">管理员id</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">姓名</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">密码</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">加入日期</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">性别</span>

            <hr style="height: 1px;margin: 0">
               {% for foo in data %}
                   <div class="wbb_ul">
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.id}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.name}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.password}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.addtime}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">{{ foo.sex }}</span>
                  <hr style="height: 1px;margin: 0">
                   </div>
               {% endfor %}

             {{ pagination_show(pagination,'admin.main',md='Admin') }}
            </div>
                {% elif md == 'User' %}
             <div class="container-fluid" style="height: 550px;overflow:hidden;">
                        <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px;">用户id</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">用户名</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">密码</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 170px;line-height: 50px;text-align: center;font-size: 14px; ">电子邮件</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">加入日期</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">性别</span>

            <hr style="height: 1px;margin: 0">
               {% for foo in data %}
                   <div class="wbb_ul">
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.id}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.username}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.password}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 170px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.email}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.addtime}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">{{ foo.sex }}</span>
                  <hr style="height: 1px;margin: 0">
                   </div>
               {% endfor %}
              {{ pagination_show(pagination,'admin.main',md='User') }}
                </div>
                {% elif md == 'Order' %}
              <div class="container-fluid" style="height: 550px;overflow:hidden;">
                        <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px;">订单号</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">用户名</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">商品名</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 120px;line-height: 50px;text-align: center;font-size: 14px; ">收货地址</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">加入日期</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">总价格</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 80px;line-height: 50px;text-align: center;font-size: 14px;margin-left: 40px ">操作</span>

            <hr style="height: 1px;margin: 0">
               {% for foo in data %}
                   <div class="wbb_ul">
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.id}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.username}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 50px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.goodsname}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 120px;line-height: 50px;text-align: center;font-size: 14px; ">{{foo.address}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 270px;line-height: 50px;text-align: center;font-size: 14px;">{{foo.addtime}}</span>
                       <span style="overflow: hidden; display: inline-block;height: 50px; width: 65px;line-height: 50px;text-align: center;font-size: 14px; ">{{ foo.account_price }}</span>
                        <span style="overflow: hidden; display: inline-block;height: 50px; width: 80px;line-height: 50px;text-align: center;font-size: 14px; color: red;margin-left: 40px;">删除订单</span>

                  <hr style="height: 1px;margin: 0">
                   </div>
               {% endfor %}
              {{ pagination_show(pagination,'admin.main',md='Order') }}
                </div>
            {% endif %}

{#        分页#}

            <!-- END PAGE CONTAINER-->
        </div>

        <!-- end PAGE -->
        <!-- **** -->
        <!-- **** -->
        <!-- === -->
        <div id="static" class="modal hide fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h3 id="titler"></h3>
            </div>
            <div class="modal-body">
                <p id="contenter"></p>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">确定</button>
                <button type="button" data-dismiss="modal" class="btn green">关闭会话</button>
            </div>
        </div>
        <!-- === -->
    </div>
    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->
    <!-- END FOOTER -->
    <!-- <script type="text/javascript" src="/media/js/yy_card.js"></script> -->
    <script src="{{url_for('static',filename='public/media/js/colpick.js')}}"></script>
    <script src="{{url_for('static',filename='public/media/js/plugin.js')}}"></script>
    <script src="{{url_for('static',filename='public/media/js/website.js')}}"></script>
    <script src="{{url_for('static',filename='public/media/js/jquery.upload.js')}}"></script>
    <!--     <script src="/media/js/jquery.rotate.min.js"></script> -->
    <script src="{{url_for('static',filename='public/swiper/dist/js/swiper.min.js')}}"></script>
    <script>
    jQuery(document).ready(function() {
        App.init();
        UIModals.init();
        // var swiper = new Swiper('.swiper-container');
        $('.datainfo .span12,.loading').hide();
    });


    //上传图片
    function upload(obj, num, b) {
        $.upload({
            // 上传地址
            url: "{:url('user/website/ajax_upload')}",
            // 文件域名字
            fileName: 'file' + num,
            // 其他表单数据
            // 上传完成后, 返回json, text
            dataType: 'json',
            // 上传之前回调,return true表示可继续上传
            onSend: function() {
                return true;
            },
            // 上传之后回调
            onComplate: function(data) {
                if (b == 1) {
                    if (data.errcode == 1) {
                        // alert("上传成功");
                        $(obj).attr('src', data.errmsg);
                    } else {
                        alert("网络错误");
                    }
                } else {
                    $('#wraps').css({
                        'background': 'url(' + data.errmsg + ')  no-repeat',
                        'background-size': '100%',
                    });
                    // $("#containment-wrapper").attr('background','url('+data.errmsg+')');
                }
            }
        });
    }
    //保存

    function savewebsite() {

        var content = $(".dome_exp").html(); //后台元素    
        $("#website .maininfo img").attr('ondblclick', '');
        $('.ui-widget-header,.ui-resizable-handle').remove();
        $('.datahref :text').attr("disabled", "disabled");

        var web = $("#website").html(); //前台展示
        $.ajax({
            url: "{:url('user/website/savewebsite')}",
            type: 'POST',
            data: {
                "web": web,
                'con': content
            },
            dataType: "json",
            success: function(data) {
                if (data == 1) {
                    alert("提示", "保存成功！")
                } else {
                    alert("提示", "保存失败！")
                }
                setTimeout(function() {
                    location = location;
                }, 8000);
            }
        });
    }

    function keepdomafter() {
        play();

        $('.loading').hide();
        $('.ui-resizable-se').nextAll().remove();
        var swiper = new Swiper('.swiper-container', {
            // pagination: '.swiper-pagination',
            // paginationClickable: true,
            // nextButton: '.swiper-button-next',
            // prevButton: '.swiper-button-prev',
            // spaceBetween: 30,
            // effect: 'fade',
            // grabCursor: true,
            // autoplay: 2000,
        });

    }
    </script>
    <!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->

</html>
